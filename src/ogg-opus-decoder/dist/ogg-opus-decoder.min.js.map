{"version":3,"sources":["ogg-opus-decoder.js"],"names":["global","factory","this","exports","Worker","_interopDefaultLegacy","e","default","Worker__default","WASMAudioDecoderCommon","caller","uint8Array","Uint8Array","uint16Array","Uint16Array","float32Array","Float32Array","concatFloat32","Object","defineProperties","value","buffers","length","ret","i","offset","set","getDecodedAudio","channelData","samplesDecoded","sampleRate","getDecodedAudioMultiChannel","input","channelsDecoded","j","channel","push","decodeDynString","source","output","parseInt","substring","offsetReverse","byte","escaped","byteIndex","charCodeAt","subarray","inflateDynEncodeString","destLength","tinf_build_bits_base","bits","base","delta","first","sum","length_bits","length_base","dist_bits","dist_base","Promise","resolve","puffString","String","raw","puffCompiled","defineProperty","WebAssembly","compile","then","wasm","instantiate","instance","puff","buffer","heapView","DataView","heapPos","destPtr","destBuf","destLengthPtr","setUint32","sourcePtr","sourceLengthPtr","enumerable","get","_wasm","getOutputChannels","outputData","slice","allocateTypedArray","len","TypedArray","ptr","_malloc","BYTES_PER_ELEMENT","_pointers","add","buf","HEAP","free","forEach","_free","clear","_EmscriptenWASM","Set","ready","_input","_inputSize","_output","_outputChannels","_outputChannelSize","WASMAudioDecoderWorker","constructor","options","Decoder","EmscriptenWASM","webworkerSourceCode","_options","_Decoder","_WASMAudioDecoderCommon","isWebWorker","decoder","self","onmessage","data","id","command","postMessage","reset","Array","isArray","map","console","error","JSON","stringify","type","URL","createObjectURL","Blob","Buffer","from","toString","super","_id","Number","MIN_SAFE_INTEGER","_enqueuedOperations","Map","rest","delete","async","_postToDecoder","finally","terminate","base64ReverseLookup","HEAPU8","compiled","r","_ogg_opus_decoder_decode","_ogg_opus_decoder_free","_ogg_opus_decoder_create","imports","a","b","x","Math","cos","exp","d","dest","src","num","copyWithin","c","requestedSize","what","abort","asm","initRuntime","OggOpusDecoder","errors","_init","common","_common","_channelsDecoded","Uint32Array","_decoder","_forceStereo","_ready","decode","Error","decodedSamples","dataLength","dataToSend","dataToSendLength","code","errorCode","_isWebWorker","forceStereo","OggOpusDecoderWebWorker","module","require","define","amd","globalThis"],"mappings":"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"}